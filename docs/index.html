<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Piping</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project >section img{max-width:100%;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.project #system #author label{vertical-align:top;}article.project #system #author ul{display:inline-block;margin:0;padding:0;list-style:none;}article.project #toc nav>*{margin-left:1em;display:block;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}@media (min-width: 1300px){html body{padding-left:16em;}article.project #toc{margin:0;position:fixed;left:0;top:0;bottom:0;width:15em;overflow-y:auto;background:#F0F0F0;border-right:1px solid #A0A0A0;}}</style> </head> <body> <article class="project"> <header>   <h1>piping</h1>   <span class="version">2.0.0</span>    <p class="description">A library to enable simple message pipelines.</p>   </header> <section id="toc"> <h2>Table of Contents</h2> <nav> <a href="#project">Top</a>  <a href="#documentation">Documentation</a> <nav> <a href="#what_is_piping?">What is Piping?</a>  <a href="#how_to">How To</a> </nav>  <a href="#system">System</a>  <a href="#system">Packages</a> <nav> <a href="#PACKAGE%20PIPING">PIPING</a> </nav>  </nav> </section>  <section id="documentation"><h2 id="what_is_piping?">What is Piping?</h2> <p>Piping is a small library providing mechanisms to create message passing pipeline constructs.</p> <h2 id="how_to">How To</h2> <p>Load Piping through Quicklisp or ASDF:</p> <pre><code>(ql:quickload :piping)</code></pre> <p>Create a pipeline and add some pipe segments:</p> <pre><code>(<a href="http://l1sp.org/cl/defvar" class="xref">defvar</a> *pipeline* (<a href="http://l1sp.org/cl/make-instance" class="xref">make-instance</a> <a href="#CLASS%20PIPING%3APIPELINE" class="xref">'pipeline</a>))
(<a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a> *pipeline* (<a href="http://l1sp.org/cl/make-instance" class="xref">make-instance</a> <a href="#CLASS%20PIPING%3APREDICATE-FILTER" class="xref">'predicate-filter</a> :predicate <a href="http://l1sp.org/cl/evenp" class="xref">#'evenp</a>))
(<a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a> *pipeline* (<a href="http://l1sp.org/cl/make-instance" class="xref">make-instance</a> <a href="#CLASS%20PIPING%3APRINTER" class="xref">'printer</a>))</code></pre> <p>Using pass you can then pass items down the pipeline:</p> <pre><code>(<a href="#GENERIC-FUNCTION%20PIPING%3APASS" class="xref">pass</a> *pipeline* 7)
(<a href="#GENERIC-FUNCTION%20PIPING%3APASS" class="xref">pass</a> *pipeline* 6)</code></pre> <p>Often times you'll want to create pipe branches so to speak, to split off passing and to filter for different things:</p> <pre><code>(<a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a> *pipeline* (<a href="#FUNCTION%20PIPING%3AMAKE-PIPE" class="xref">make-pipe</a>))
(<a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a> *pipeline* (<a href="http://l1sp.org/cl/make-instance" class="xref">make-instance</a> <a href="#CLASS%20PIPING%3APREDICATE-FILTER" class="xref">'predicate-filter</a> :predicate <a href="http://l1sp.org/cl/zerop" class="xref">#'zerop</a>) '(2))
(<a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a> *pipeline* (<a href="http://l1sp.org/cl/make-instance" class="xref">make-instance</a> <a href="#CLASS%20PIPING%3APRINTER" class="xref">'printer</a>) '(2))</code></pre> <p>The last argument to <code><a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a></code> is a place indicator. A place is always a list of indexes, each index specifying the index within the current pipe. <code><a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT" class="xref">add-segment</a></code> then adds the segment to the end of the pipe, in this case the pipe we added.</p> <p>In order to have easier access to places, you can use <code><a href="#GENERIC-FUNCTION%20PIPING%3ASET-NAME" class="xref">set-name</a></code> to create names for certain places. Do note that modifying the pipeline might change or destroy names. See the each function's docstring for more information.</p> <p>Creating custom pipe segments is just a question of subclassing <code><a href="#CLASS%20PIPING%3ASEGMENT" class="xref">segment</a></code> and defining the <code><a href="#GENERIC-FUNCTION%20PIPING%3APASS" class="xref">pass</a></code> method. If your segment should act like a pipe, you'll have to define methods for <code><a href="#GENERIC-FUNCTION%20PIPING%3AFIND-PLACE" class="xref">find-place</a></code>, <code><a href="#GENERIC-FUNCTION%20PIPING%3AFIND-PARENT" class="xref">find-parent</a></code>, <code><a href="#GENERIC-FUNCTION%20PIPING%3AINSERT" class="xref">insert</a></code> and <code><a href="#GENERIC-FUNCTION%20PIPING%3AWITHDRAW" class="xref">withdraw</a></code> as well.</p> <p>Visualizing the pipeline can be done relatively well by simply printing the main pipe:</p> <pre><code>(<a href="#GENERIC-FUNCTION%20PIPING%3APIPELINE" class="xref">pipeline</a> *pipeline*)
; ==&gt; #(:FILTER: &gt;&gt;FAUCET #(:FILTER: &gt;&gt;FAUCET)</code></pre> </section>    <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">2.0.0</a> </div>    <div class="row" id="author"> <label for="author">Author:</label> <a href="mailto:shinmera@tymoon.eu">Yukari Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/LICENSE">zlib</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://shinmera.github.io/piping/">https://shinmera.github.io/piping/</a> </div>   <div class="row"> <label for="bug-tracker">Bug Tracker:</label> <a id="bug-tracker" href="https://github.com/Shinmera/piping/issues">https://github.com/Shinmera/piping/issues</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/Shinmera/piping.git">https://github.com/Shinmera/piping.git</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE PIPING"> <header> <h3> <a href="#PACKAGE%20PIPING">PIPING</a> </h3> <ul class="nicknames"> <li>ORG.TYMOONNEXT.RADIANCE.LIB.PIPING</li>  <li>ORG.TYMOONNEXT.PIPING</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition class" id="CLASS PIPING:FAUCET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3AFAUCET">FAUCET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipe.lisp#L17">Source</a>  </header> <div class="docstring"><pre>Base faucet class.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3AFILTER">FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipe.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Base filter class.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:PIPELINE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3APIPELINE">PIPELINE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L7">Source</a>  </header> <div class="docstring"><pre>Base pipeline object that is necessary to orchestrate piping systems.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:PREDICATE-FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3APREDICATE-FILTER">PREDICATE-FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/extra.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Segment that predicate-filters messages according to a predicate function.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:PRINTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3APRINTER">PRINTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/extra.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Segment that prints each message it receives.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3ASEGMENT">SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipe.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Base segment class.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS PIPING:SWITCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20PIPING%3ASWITCH">SWITCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/extra.lisp#L19">Source</a>  </header> <div class="docstring"><pre>A switch that only passes to the pipe as set by its current value.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION PIPING:UNKNOWN-NAME-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20PIPING%3AUNKNOWN-NAME-ERROR">UNKNOWN-NAME-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L12">Source</a>  </header> <div class="docstring"><pre>Signalled if a name which was not previously set in the pipeline is looked up</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PIPING:MAKE-PIPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PIPING%3AMAKE-PIPE">MAKE-PIPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Creates a new splitter array.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:ADD-SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AADD-SEGMENT">ADD-SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">SEGMENT</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L117">Source</a>  </header> <div class="docstring"><pre>Add a new segment to the pipeline.
If place is set, the pipe is added to the specified place as per INSERT.
The place specified is expected to be a splitter or similar to append
the pipe to. Returns the segment. PLACE can be a name, as in FIND-PLACE.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:FIND-PARENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AFIND-PARENT">FIND-PARENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEGMENT</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L71">Source</a>  </header> <div class="docstring"><pre>Same as FIND-PLACE, except it returns the parent of the matched item.
As secondary value it returns the position of the matched item within the parent.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:FIND-PLACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AFIND-PLACE">FIND-PLACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEGMENT</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L40">Source</a>  </header> <div class="docstring"><pre>Searches and returns the segment as designated by PLACE.
A place can be a path (a list of signed integers), each denoting the position of the item
within the current splitter or segment. Subsequent numbers descend into the item matched
by the previous number.

As such, (1 4) matches the following:
 ([] () [] [])
      - ([] [] [] [] [] [])
                      ^^

A place can also be a name denoting a path within a pipeline, set by SET-NAME. In this
case, the name is looked up first, and resolved to a path by RESOLVE-PLACE. If the name
given was not previously set in PIPELINE, UNKNOWN-NAME-ERROR is signalled.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:INSERT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AINSERT">INSERT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEGMENT</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">POSITION</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L88">Source</a>  </header> <div class="docstring"><pre>Appends the item to the given place unless a specific position is given.
If position is set, the item is expected to be inserted at the specified position, without
replacing or disturbing any other items.

Returns the segment.

Do note that using insert directly can affect names and make them invalid or point to unexpected
segments. You should always use add-segment or insert-segment instead if possible.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:INSERT-SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AINSERT-SEGMENT">INSERT-SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">SEGMENT</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L161">Source</a>  </header> <div class="docstring"><pre>Insert the segment at the given place.
Note that the segment is always inserted into the parent as specified by the place
and found by FIND-PARENT and inserted into the position as per INSERT. PLACE can be a
name, as in FIND-PLACE.

Returns the segment.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:MOVE-SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AMOVE-SEGMENT">MOVE-SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">PLACE</li>    <li class="argument">NEW-PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L220">Source</a>  </header> <div class="docstring"><pre>Moves a segment to another while preserving names.
This attempts to fix names associated with the place or deeper places
by changing their place as well. Either place can be a name, as in FIND-PLACE.

Returns the segment.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:NAMES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3ANAMES">NAMES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF NAMES)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20NAMES%29">(SETF NAMES)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:PASS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3APASS">PASS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEGMENT</li>    <li class="argument">MESSAGE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L252">Source</a>  </header> <div class="docstring"><pre>Pass a message through a segment.

Note for implementors of this method for custom segments:
You are expected to return a message object, which will be
used for subsequent passing down the current segment. If you
return NIL, passing stops. This does not affect passing in
segments on other splitters. Do note that changing the object
itself directly will of course als be reflected at any other
point in the pipeline passing, so muting the passed object
should be avoided wherever possible.

Returns the message.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:PIPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3APIPE">PIPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF PIPE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20PIPE%29">(SETF PIPE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:PIPELINE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3APIPELINE">PIPELINE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF PIPELINE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20PIPELINE%29">(SETF PIPELINE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:PREDICATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3APREDICATE">PREDICATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF PREDICATE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20PREDICATE%29">(SETF PREDICATE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:PRINT-STREAM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3APRINT-STREAM">PRINT-STREAM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF PRINT-STREAM)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20PRINT-STREAM%29">(SETF PRINT-STREAM)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:REMOVE-SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AREMOVE-SEGMENT">REMOVE-SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L134">Source</a>  </header> <div class="docstring"><pre>Removes the given segment (as well as its children, if any).
This also removes any names that either match or go through the specified place
and adapts names that would be affected by a place shift. PLACE can be a name, as in
FIND-PLACE.

Returns the segment.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:REPLACE-SEGMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AREPLACE-SEGMENT">REPLACE-SEGMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">PLACE</li>    <li class="argument">PIPE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L199">Source</a>  </header> <div class="docstring"><pre>Replace a place with a pipe.
This happens simply through REMOVE-PLACE and INSERT-PIPE. PLACE can be a name, as in
FIND-PLACE.

Note that this will destroy names due to REMOVE-PLACE.

Returns the segment.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:RESOLVE-PLACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3ARESOLVE-PLACE">RESOLVE-PLACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">IF-DOES-NOT-EXIST</li>    <li class="argument lambda-list-keyword">&amp;ALLOW-OTHER-KEYS</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L19">Source</a>  </header> <div class="docstring"><pre>Resolve PLACE to a path (ie. list of integers).

  If PLACE is already a path, return it unchanged. If it's a name (as set by SET-NAME),
  return its corresponding path. IF-DOES-NOT-EXIST determines handling of unknown names:
  if it's :ERROR, signal UNKNOWN-NAME-ERROR; if it's NIL, NIL is silently returned.

  Returns a secondary value which is T if the place was successfully resolved, and NIL if
  it was an unknown name and IF-DOES-NOT-EXIST is NIL.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:SET-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3ASET-NAME">SET-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PIPELINE</li>    <li class="argument">PLACE</li>    <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L244">Source</a>  </header> <div class="docstring"><pre>Associates a place with a name so it can be accessed more easily.

Returns the name.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:VALUE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AVALUE">VALUE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:(SETF VALUE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3A%28SETF%20VALUE%29">(SETF VALUE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION PIPING:WITHDRAW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20PIPING%3AWITHDRAW">WITHDRAW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">POSITION</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/shinmera/piping/blob/7c890ab8136da93cfdd3b11ff3a31d936c23e339/pipeline.lisp#L103">Source</a>  </header> <div class="docstring"><pre>Removes an item from the place, by default from the end unless position is set.
If position is given, it is expected that the specified item is removed without disturbing any
other items and without leaving any empty spaces within the parent.

Returns the segment.

Do note that using withdraw directly can affect names and make them invalid or point to unexpected
segments. You should always use remove-segment instead if possible.</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 